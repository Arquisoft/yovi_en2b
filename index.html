<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.26">
<title>yovi_en2b</title>
<style>
/*! Asciidoctor GitHub Dark stylesheet | MIT License | [https://asciidoctor.org](https://asciidoctor.org) */
/* Uncomment the following line when using as a custom stylesheet */
@import "https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;600&display=swap";

*,
::before,
::after {
  box-sizing: border-box
}


html {
  font-size: 100%;
  -webkit-text-size-adjust: 100%
}


body {
  background: #0d1117;
  color: #c9d1d9;
  padding: 0;
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif;
  font-size: inherit;
  line-height: 1;
  position: relative;
  cursor: auto;
  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;
  word-wrap: anywhere;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased
}


dl,
dt,
dd,
ul,
ol,
li,
h1,
h2,
h3,
h4,
h5,
h6,
pre,
p,
blockquote,
th,
td {
  margin: 0;
  padding: 0
}


a {
  background: none;
  color: #58a6ff;
  text-decoration: underline;
  line-height: inherit
}


a:active,
a:hover {
  cursor: pointer;
  outline: 0
}


a:focus {
  outline: thin dotted
}


a:hover,
a:focus {
  color: #1f6feb
}


abbr {
  font-size: .9em
}


abbr[title] {
  cursor: help;
  border-bottom: 1px dotted #30363d;
  text-decoration: none
}


b,
strong {
  font-weight: bold;
  line-height: inherit
}


strong strong {
  font-weight: 400
}


code,
kbd,
pre {
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace;
  font-size: 1em
}


code {
  font-weight: 400;
  color: #c9d1d9
}


pre {
  color: #c9d1d9;
  line-height: 1.45;
  text-rendering: optimizeSpeed;
  white-space: pre-wrap
}


dfn {
  font-style: italic
}


em,
i {
  font-style: italic;
  line-height: inherit
}


em em {
  font-style: normal
}


hr {
  border: solid #30363d;
  border-width: 1px 0 0;
  clear: both;
  height: 0;
  margin: 1.25em 0 1.1875em
}


mark {
  background: #d29922;
  color: #0d1117
}


p {
  line-height: 1.6;
  margin-bottom: 1.25rem;
  text-rendering: optimizeLegibility
}


q {
  quotes: "\201C" "\201D" "\2018" "\2019"
}


small {
  font-size: 60%;
  line-height: inherit
}


sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline
}


sup {
  top: -.5em
}


sub {
  bottom: -.25em
}


img,
object[type^="image/"],
svg {
  display: inline-block;
  height: auto;
  max-width: 100%;
  vertical-align: middle
}


img {
  border: 0;
  -ms-interpolation-mode: bicubic
}


object {
  max-width: 100%
}


svg:not(:root) {
  overflow: hidden
}


figure {
  margin: 0
}


audio,
video {
  display: inline-block
}


audio:not([controls]) {
  display: none;
  height: 0
}


.left {
  float: left !important
}


.right {
  float: right !important
}


.text-left,
div.text-left>* {
  text-align: left !important
}


.text-right,
div.text-right>* {
  text-align: right !important
}


.text-center,
div.text-center>* {
  text-align: center !important
}


.text-justify,
div.text-justify>* {
  text-align: justify !important
}


.hide {
  display: none
}


.subheader,
.admonitionblock td.content>.title,
.audioblock>.title,
.exampleblock>.title,
.imageblock>.title,
.listingblock>.title,
.literalblock>.title,
.stemblock>.title,
.openblock>.title,
.paragraph>.title,
.quoteblock>.title,
table.tableblock>.title,
.verseblock>.title,
.videoblock>.title,
.dlist>.title,
.olist>.title,
.ulist>.title,
.qlist>.title,
.hdlist>.title {
  line-height: 1.45;
  color: #8b949e;
  font-weight: 400;
  margin-top: 0;
  margin-bottom: .25em
}


p aside {
  font-size: .875em;
  line-height: 1.35;
  font-style: italic
}


h1,
h2,
h3,
#toctitle,
.sidebarblock>.content>.title,
h4,
h5,
h6 {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif;
  font-weight: 600;
  font-style: normal;
  color: #f0f6fc;
  text-rendering: optimizeLegibility;
  margin-top: 1em;
  margin-bottom: .5em;
  line-height: 1.2;
  word-spacing: -.05em
}


h1 small,
h2 small,
h3 small,
#toctitle small,
.sidebarblock>.content>.title small,
h4 small,
h5 small,
h6 small {
  color: #8b949e;
  line-height: 0
}


h1 {
  font-size: 2.125em
}


h2 {
  font-size: 1.6875em
}


h3,
#toctitle,
.sidebarblock>.content>.title {
  font-size: 1.375em
}


h4,
h5 {
  font-size: 1.125em
}


h6 {
  font-size: 1em
}


ul,
ol,
dl {
  line-height: 1.6;
  margin-bottom: 1.25em;
  list-style-position: outside;
  font-family: inherit
}


ul,
ol {
  margin-left: 1.5em
}


ul li ul,
ul li ol {
  margin-left: 1.25em;
  margin-bottom: 0
}


ul.circle {
  list-style-type: circle
}


ul.disc {
  list-style-type: disc
}


ul.square {
  list-style-type: square
}


ul.circle ul:not([class]),
ul.disc ul:not([class]),
ul.square ul:not([class]) {
  list-style: inherit
}


ol li ul,
ol li ol {
  margin-left: 1.25em;
  margin-bottom: 0
}


dl dt {
  margin-bottom: .3125em;
  font-weight: bold
}


dl dd {
  margin-bottom: 1.25em;
  margin-left: 1.125em
}


blockquote {
  margin: 0 0 1.25em;
  padding: .5625em 1.25em 0 1.1875em;
  border-left: 1px solid #30363d
}


blockquote,
blockquote p {
  line-height: 1.6;
  color: #8b949e
}


@media screen and (min-width:768px) {
  h1 {
    font-size: 2.75em
  }


  h2 {
    font-size: 2.3125em
  }


  h3,
  #toctitle,
  .sidebarblock>.content>.title {
    font-size: 1.6875em
  }


  h4 {
    font-size: 1.4375em
  }
}


table {
  background: #0d1117;
  border: 1px solid #30363d;
  border-collapse: collapse;
  border-spacing: 0;
  margin-bottom: 1.25em;
  word-wrap: normal
}


table thead,
table tfoot {
  background: #161b22
}


table thead tr th,
table thead tr td,
table tfoot tr th,
table tfoot tr td {
  padding: .5em .625em .625em;
  font-size: inherit;
  color: #c9d1d9;
  text-align: left
}


table tr th,
table tr td {
  padding: .5625em .625em;
  font-size: inherit;
  color: #c9d1d9
}


table tr.even,
table tr.alt {
  background: #161b22
}


table thead tr th,
table tfoot tr th,
table tbody tr td,
table tr td,
table tfoot tr td {
  line-height: 1.6
}


h1 strong,
h2 strong,
h3 strong,
#toctitle strong,
.sidebarblock>.content>.title strong,
h4 strong,
h5 strong,
h6 strong {
  font-weight: 400
}


.center {
  margin-left: auto;
  margin-right: auto
}


.stretch {
  width: 100%
}


.clearfix::before,
.clearfix::after,
.float-group::before,
.float-group::after {
  content: "";
  display: table
}


.clearfix::after,
.float-group::after {
  clear: both
}


:not(pre).nobreak {
  word-wrap: normal
}


:not(pre).nowrap {
  white-space: nowrap
}


:not(pre).pre-wrap {
  white-space: pre-wrap
}


:not(pre):not([class^=L])>code {
  font-size: .9375em;
  font-style: normal !important;
  letter-spacing: 0;
  padding: .1em .5ex;
  word-spacing: -.15em;
  background: #161b22;
  border-radius: 4px;
  line-height: 1.45;
  text-rendering: optimizeSpeed
}


pre code,
pre pre {
  color: inherit;
  font-size: inherit;
  line-height: inherit
}


pre.nowrap,
pre.nowrap pre {
  white-space: pre;
  word-wrap: normal
}


.keyseq {
  color: #8b949e
}


kbd {
  display: inline-block;
  color: #c9d1d9;
  font-size: .65em;
  line-height: 1.45;
  background: #161b22;
  border: 1px solid #30363d;
  border-radius: 3px;
  box-shadow: 0 1px 0 rgba(0, 0, 0, .3), inset 0 0 0 .1em #21262d;
  margin: 0 .15em;
  padding: .2em .5em;
  vertical-align: middle;
  position: relative;
  top: -.1em;
  white-space: nowrap
}


.keyseq kbd:first-child {
  margin-left: 0
}


.keyseq kbd:last-child {
  margin-right: 0
}


.menuseq,
.menuref {
  color: #c9d1d9
}


.menuseq b:not(.caret),
.menuref {
  font-weight: inherit
}


.menuseq {
  word-spacing: -.02em
}


.menuseq b.caret {
  font-size: 1.25em;
  line-height: .8
}


.menuseq i.caret {
  font-weight: bold;
  text-align: center;
  width: .45em
}


b.button::before,
b.button::after {
  position: relative;
  top: -1px;
  font-weight: 400
}


b.button::before {
  content: "[";
  padding: 0 3px 0 2px
}


b.button::after {
  content: "]";
  padding: 0 2px 0 3px
}


p a>code:hover {
  color: #f0f6fc
}


body>div[id] {
  margin: 0 auto;
  max-width: 62.5em;
  position: relative;
  padding-left: .9375em;
  padding-right: .9375em;
  width: 100%
}


body>div[id]::before,
body>div[id]::after,
#content #footnotes::before {
  content: "";
  display: table;
  clear: both
}


#content {
  margin-top: 1.25em;
  margin-bottom: .625em
}


#content::before {
  content: none
}


#header>h1:first-child {
  color: #f0f6fc;
  margin-top: 2.25rem;
  margin-bottom: 0
}


#header>h1:first-child+#toc {
  margin-top: 8px;
  border-top: 1px solid #30363d
}


#header>h1:only-child {
  border-bottom: 1px solid #30363d;
  padding-bottom: 8px
}


#header .details {
  border-bottom: 1px solid #30363d;
  line-height: 1.45;
  padding-top: .25em;
  padding-bottom: .25em;
  padding-left: .25em;
  color: #8b949e;
  display: flex;
  flex-flow: row wrap
}


#header .details span:first-child {
  margin-left: -.125em
}


#header .details span.email a {
  color: #c9d1d9
}


#header .details br {
  display: none
}


#header .details br+span::before {
  content: "\00a0\2013\00a0"
}


#header .details br+span.author::before {
  content: "\00a0\22c5\00a0";
  color: #c9d1d9
}


#header .details br+span#revremark::before {
  content: "\00a0|\00a0"
}


#header #revnumber {
  text-transform: capitalize
}


#header #revnumber::after {
  content: "\00a0"
}


#content>h1:first-child:not([class]) {
  color: #f0f6fc;
  border-bottom: 1px solid #30363d;
  padding-bottom: 8px;
  margin-top: 0;
  padding-top: 1rem;
  margin-bottom: 1.25rem
}


#toc {
  border-bottom: 1px solid #30363d;
  padding-bottom: .5em
}


#toc>ul {
  margin-left: .125em
}


#toc ul.sectlevel0>li:not([class])>a {
  font-style: italic
}


#toc ul.sectlevel0 ul.sectlevel1 {
  margin: .5em 0
}


#toc ul {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif;
  list-style-type: none
}


#toc li {
  line-height: 1.3334;
  margin-top: .3334em
}


#toc a {
  text-decoration: none;
  color: #adbac7;
  transition: color 0.15s ease-in-out
}

#toc a:hover {
  color: #58a6ff
}

#toc a:active {
  text-decoration: none;
  color: #58a6ff
}


#toctitle {
  color: #8b949e;
  font-size: 1.2em
}


@media screen and (min-width:768px) {
  #toctitle {
    font-size: 1.375em
  }


  body.toc2 {
    padding-left: 15em;
    padding-right: 0
  }


  body.toc2 #header>h1:nth-last-child(2) {
    border-bottom: 1px solid #30363d;
    padding-bottom: 8px
  }


  #toc.toc2 {
    margin-top: 0 !important;
    background: #010409;
    position: fixed;
    width: 15em;
    left: 0;
    top: 0;
    border-right: 1px solid #30363d;
    border-top-width: 0 !important;
    border-bottom-width: 0 !important;
    z-index: 1000;
    padding: 1.25em 1em;
    height: 100%;
    overflow: auto;
    scrollbar-width: thin;
    scrollbar-color: #484f58 #010409
  }


  #toc.toc2::-webkit-scrollbar {
    width: 10px
  }


  #toc.toc2::-webkit-scrollbar-track {
    background: #010409
  }


  #toc.toc2::-webkit-scrollbar-thumb {
    background: #484f58;
    border-radius: 5px
  }


  #toc.toc2::-webkit-scrollbar-thumb:hover {
    background: #6e7681
  }

  #toc.toc2 #toctitle {
    margin-top: 0;
    margin-bottom: .8rem;
    font-size: 1.2em;
    color: #f0f6fc;
    font-weight: 600
  }


  #toc.toc2>ul {
    font-size: .9em;
    margin-bottom: 0
  }

  #toc.toc2 a {
    color: #8b949e;
    display: block;
    padding: .25rem .5rem;
    margin: 0 -.5rem;
    border-radius: 6px;
    transition: all 0.15s ease-in-out
  }


  #toc.toc2 a:hover {
    color: #c9d1d9;
    background: rgba(177, 186, 196, 0.12)
  }

  #toc.toc2 ul.sectlevel0>li>a {
    font-weight: 600;
    color: #adbac7
  }

  #toc.toc2 ul ul {
    margin-left: 0;
    padding-left: 1em
  }


  #toc.toc2 ul.sectlevel0 ul.sectlevel1 {
    padding-left: 0;
    margin-top: .5em;
    margin-bottom: .5em
  }


  body.toc2.toc-right {
    padding-left: 0;
    padding-right: 15em
  }


  body.toc2.toc-right #toc.toc2 {
    border-right-width: 0;
    border-left: 1px solid #30363d;
    left: auto;
    right: 0
  }
}


@media screen and (min-width:1280px) {
  body.toc2 {
    padding-left: 20em;
    padding-right: 0
  }


  #toc.toc2 {
    width: 20em
  }


  #toc.toc2 #toctitle {
    font-size: 1.375em
  }


  #toc.toc2>ul {
    font-size: .95em
  }


  #toc.toc2 ul ul {
    padding-left: 1.25em
  }


  body.toc2.toc-right {
    padding-left: 0;
    padding-right: 20em
  }
}


#content #toc {
  border: 1px solid #30363d;
  margin-bottom: 1.25em;
  padding: 1.25em;
  background: #0d1117;
  border-radius: 4px
}


#footer {
  max-width: none;
  background: #161b22;
  padding: 1.25em
}


#footer-text {
  color: #8b949e;
  line-height: 1.44
}


.sect1 {
  padding-bottom: .625em
}


@media screen and (min-width:768px) {
  #content {
    margin-bottom: 1.25em
  }


  .sect1 {
    padding-bottom: 1.25em
  }
}


.sect1:last-child {
  padding-bottom: 0
}


.sect1+.sect1 {
  border-top: 1px solid #30363d
}


#content h1>a.anchor,
h2>a.anchor,
h3>a.anchor,
#toctitle>a.anchor,
.sidebarblock>.content>.title>a.anchor,
h4>a.anchor,
h5>a.anchor,
h6>a.anchor {
  position: absolute;
  z-index: 1001;
  width: 1.5ex;
  margin-left: -1.5ex;
  display: block;
  text-decoration: none !important;
  visibility: hidden;
  text-align: center;
  font-weight: 400
}


#content h1>a.anchor::before,
h2>a.anchor::before,
h3>a.anchor::before,
#toctitle>a.anchor::before,
.sidebarblock>.content>.title>a.anchor::before,
h4>a.anchor::before,
h5>a.anchor::before,
h6>a.anchor::before {
  content: "\00A7";
  font-size: .85em;
  display: block;
  padding-top: .1em
}


#content h1:hover>a.anchor,
#content h1>a.anchor:hover,
h2:hover>a.anchor,
h2>a.anchor:hover,
h3:hover>a.anchor,
#toctitle:hover>a.anchor,
.sidebarblock>.content>.title:hover>a.anchor,
h3>a.anchor:hover,
#toctitle>a.anchor:hover,
.sidebarblock>.content>.title>a.anchor:hover,
h4:hover>a.anchor,
h4>a.anchor:hover,
h5:hover>a.anchor,
h5>a.anchor:hover,
h6:hover>a.anchor,
h6>a.anchor:hover {
  visibility: visible
}


#content h1>a.link,
h2>a.link,
h3>a.link,
#toctitle>a.link,
.sidebarblock>.content>.title>a.link,
h4>a.link,
h5>a.link,
h6>a.link {
  color: #f0f6fc;
  text-decoration: none
}


#content h1>a.link:hover,
h2>a.link:hover,
h3>a.link:hover,
#toctitle>a.link:hover,
.sidebarblock>.content>.title>a.link:hover,
h4>a.link:hover,
h5>a.link:hover,
h6>a.link:hover {
  color: #58a6ff
}


details,
.audioblock,
.imageblock,
.literalblock,
.listingblock,
.stemblock,
.videoblock {
  margin-bottom: 1.25em
}


details {
  margin-left: 1.25rem
}


details>summary {
  cursor: pointer;
  display: block;
  position: relative;
  line-height: 1.6;
  margin-bottom: .625rem;
  outline: none;
  -webkit-tap-highlight-color: transparent
}


details>summary::-webkit-details-marker {
  display: none
}


details>summary::before {
  content: "";
  border: solid transparent;
  border-left: solid;
  border-width: .3em 0 .3em .5em;
  position: absolute;
  top: .5em;
  left: -1.25rem;
  transform: translateX(15%)
}


details[open]>summary::before {
  border: solid transparent;
  border-top: solid;
  border-width: .5em .3em 0;
  transform: translateY(15%)
}


details>summary::after {
  content: "";
  width: 1.25rem;
  height: 1em;
  position: absolute;
  top: .3em;
  left: -1.25rem
}


.admonitionblock td.content>.title,
.audioblock>.title,
.exampleblock>.title,
.imageblock>.title,
.listingblock>.title,
.literalblock>.title,
.stemblock>.title,
.openblock>.title,
.paragraph>.title,
.quoteblock>.title,
table.tableblock>.title,
.verseblock>.title,
.videoblock>.title,
.dlist>.title,
.olist>.title,
.ulist>.title,
.qlist>.title,
.hdlist>.title {
  text-rendering: optimizeLegibility;
  text-align: left;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif;
  font-size: 1rem;
  font-style: italic
}


table.tableblock.fit-content>caption.title {
  white-space: nowrap;
  width: 0
}


.paragraph.lead>p,
#preamble>.sectionbody>[class=paragraph]:first-of-type p {
  font-size: 1.21875em;
  line-height: 1.6;
  color: #c9d1d9
}


.admonitionblock>table {
  border-collapse: separate;
  border: 0;
  background: none;
  width: 100%
}


.admonitionblock>table td.icon {
  text-align: center;
  width: 80px
}


.admonitionblock>table td.icon img {
  max-width: none
}


.admonitionblock>table td.icon .title {
  font-weight: bold;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif;
  text-transform: uppercase
}


.admonitionblock>table td.content {
  padding-left: 1.125em;
  padding-right: 1.25em;
  border-left: 1px solid #30363d;
  color: #8b949e;
  word-wrap: anywhere
}


.admonitionblock>table td.content>:last-child>:last-child {
  margin-bottom: 0
}


.exampleblock>.content {
  border: 1px solid #30363d;
  margin-bottom: 1.25em;
  padding: 1.25em;
  background: #161b22;
  border-radius: 4px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, .3)
}


.sidebarblock {
  border: 1px solid #30363d;
  margin-bottom: 1.25em;
  padding: 1.25em;
  background: #161b22;
  border-radius: 4px
}


.sidebarblock>.content>.title {
  color: #8b949e;
  margin-top: 0;
  text-align: center
}


#content #toc>:first-child,
.exampleblock>.content>:first-child,
.sidebarblock>.content>:first-child {
  margin-top: 0
}


#content #toc>:last-child,
.exampleblock>.content>:last-child,
.exampleblock>.content>:last-child>:last-child,
.exampleblock>.content .olist>ol>li:last-child>:last-child,
.exampleblock>.content .ulist>ul>li:last-child>:last-child,
.exampleblock>.content .qlist>ol>li:last-child>:last-child,
.sidebarblock>.content>:last-child,
.sidebarblock>.content>:last-child>:last-child,
.sidebarblock>.content .olist>ol>li:last-child>:last-child,
.sidebarblock>.content .ulist>ul>li:last-child>:last-child,
.sidebarblock>.content .qlist>ol>li:last-child>:last-child {
  margin-bottom: 0
}


.literalblock pre,
.listingblock>.content>pre {
  border-radius: 4px;
  overflow-x: auto;
  padding: 1em;
  font-size: .8125em
}


@media screen and (min-width:768px) {


  .literalblock pre,
  .listingblock>.content>pre {
    font-size: .90625em
  }
}


@media screen and (min-width:1280px) {


  .literalblock pre,
  .listingblock>.content>pre {
    font-size: 1em
  }
}


.literalblock pre,
.listingblock>.content>pre:not(.highlight),
.listingblock>.content>pre[class=highlight],
.listingblock>.content>pre[class^="highlight "] {
  background: #161b22
}


.literalblock.output pre {
  color: #c9d1d9;
  background: #21262d
}


.listingblock>.content {
  position: relative
}


.listingblock pre>code {
  display: block
}


.listingblock code[data-lang]::before {
  display: none;
  content: attr(data-lang);
  position: absolute;
  font-size: .75em;
  top: .425rem;
  right: .5rem;
  line-height: 1;
  text-transform: uppercase;
  color: inherit;
  opacity: .5
}


.listingblock:hover code[data-lang]::before {
  display: block
}


.listingblock.terminal pre .command::before {
  content: attr(data-prompt);
  padding-right: .5em;
  color: inherit;
  opacity: .5
}


.listingblock.terminal pre .command:not([data-prompt])::before {
  content: "$"
}


.listingblock pre.highlightjs {
  padding: 0
}


.listingblock pre.highlightjs>code {
  padding: 1em;
  border-radius: 4px
}


.listingblock pre.prettyprint {
  border-width: 0
}


.prettyprint {
  background: #161b22
}


pre.prettyprint .linenums {
  line-height: 1.45;
  margin-left: 2em
}


pre.prettyprint li {
  background: none;
  list-style-type: inherit;
  padding-left: 0
}


pre.prettyprint li code[data-lang]::before {
  opacity: 1
}


pre.prettyprint li:not(:first-child) code[data-lang]::before {
  display: none
}


table.linenotable {
  border-collapse: separate;
  border: 0;
  margin-bottom: 0;
  background: none
}


table.linenotable td[class] {
  color: inherit;
  vertical-align: top;
  padding: 0;
  line-height: inherit;
  white-space: normal
}


table.linenotable td.code {
  padding-left: .75em
}


table.linenotable td.linenos {
  width: .01%
}


table.linenotable td.linenos,
pre.pygments .linenos,
pre.rouge .linenos {
  border-right: 1px solid;
  opacity: .35;
  padding-right: .5em;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none
}


pre.pygments span.linenos,
pre.rouge span.linenos {
  display: inline-block;
  margin-right: .75em
}


.quoteblock {
  margin: 0 1em 1.25em 1.5em;
  display: table
}


.quoteblock:not(.excerpt)>.title {
  margin-left: -1.5em;
  margin-bottom: .75em
}


.quoteblock blockquote,
.quoteblock p {
  color: #8b949e;
  font-size: 1.15rem;
  line-height: 1.75;
  word-spacing: .1em;
  letter-spacing: 0;
  font-style: italic;
  text-align: justify
}


.quoteblock blockquote {
  margin: 0;
  padding: 0;
  border: 0
}


.quoteblock blockquote::before {
  content: "\201c";
  float: left;
  font-size: 2.75em;
  font-weight: bold;
  line-height: .6em;
  margin-left: -.6em;
  color: #58a6ff;
  text-shadow: 0 1px 2px rgba(0, 0, 0, .3)
}


.quoteblock blockquote>.paragraph:last-child p {
  margin-bottom: 0
}


.quoteblock .attribution {
  margin-top: .75em;
  margin-right: .5ex;
  text-align: right
}


.verseblock {
  margin: 0 1em 1.25em
}


.verseblock pre {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif;
  font-size: 1.15rem;
  color: #c9d1d9;
  font-weight: 300;
  text-rendering: optimizeLegibility
}


.verseblock pre strong {
  font-weight: 400
}


.verseblock .attribution {
  margin-top: 1.25rem;
  margin-left: .5ex
}


.quoteblock .attribution,
.verseblock .attribution {
  font-size: .9375em;
  line-height: 1.45;
  font-style: italic
}


.quoteblock .attribution br,
.verseblock .attribution br {
  display: none
}


.quoteblock .attribution cite,
.verseblock .attribution cite {
  display: block;
  letter-spacing: -.025em;
  color: #8b949e
}


.quoteblock.abstract blockquote::before,
.quoteblock.excerpt blockquote::before,
.quoteblock .quoteblock blockquote::before {
  display: none
}


.quoteblock.abstract blockquote,
.quoteblock.abstract p,
.quoteblock.excerpt blockquote,
.quoteblock.excerpt p,
.quoteblock .quoteblock blockquote,
.quoteblock .quoteblock p {
  line-height: 1.6;
  word-spacing: 0
}


.quoteblock.abstract {
  margin: 0 1em 1.25em;
  display: block
}


.quoteblock.abstract>.title {
  margin: 0 0 .375em;
  font-size: 1.15em;
  text-align: center
}


.quoteblock.excerpt>blockquote,
.quoteblock .quoteblock {
  padding: 0 0 .25em 1em;
  border-left: .25em solid #30363d
}


.quoteblock.excerpt,
.quoteblock .quoteblock {
  margin-left: 0
}


.quoteblock.excerpt blockquote,
.quoteblock.excerpt p,
.quoteblock .quoteblock blockquote,
.quoteblock .quoteblock p {
  color: inherit;
  font-size: 1.0625rem
}


.quoteblock.excerpt .attribution,
.quoteblock .quoteblock .attribution {
  color: inherit;
  font-size: .85rem;
  text-align: left;
  margin-right: 0
}


p.tableblock:last-child {
  margin-bottom: 0
}


td.tableblock>.content {
  margin-bottom: 1.25em;
  word-wrap: anywhere
}


td.tableblock>.content>:last-child {
  margin-bottom: -1.25em
}


table.tableblock,
th.tableblock,
td.tableblock {
  border: 0 solid #30363d
}


table.grid-all>*>tr>* {
  border-width: 1px
}


table.grid-cols>*>tr>* {
  border-width: 0 1px
}


table.grid-rows>*>tr>* {
  border-width: 1px 0
}


table.frame-all {
  border-width: 1px
}


table.frame-ends {
  border-width: 1px 0
}


table.frame-sides {
  border-width: 0 1px
}


table.frame-none>colgroup+*>:first-child>*,
table.frame-sides>colgroup+*>:first-child>* {
  border-top-width: 0
}


table.frame-none>:last-child>:last-child>*,
table.frame-sides>:last-child>:last-child>* {
  border-bottom-width: 0
}


table.frame-none>*>tr>:first-child,
table.frame-ends>*>tr>:first-child {
  border-left-width: 0
}


table.frame-none>*>tr>:last-child,
table.frame-ends>*>tr>:last-child {
  border-right-width: 0
}


table.stripes-all>tbody>tr,
table.stripes-odd>tbody>tr:nth-of-type(odd),
table.stripes-even>tbody>tr:nth-of-type(even),
table.stripes-hover>tbody>tr:hover {
  background: #161b22
}


th.halign-left,
td.halign-left {
  text-align: left
}


th.halign-right,
td.halign-right {
  text-align: right
}


th.halign-center,
td.halign-center {
  text-align: center
}


th.valign-top,
td.valign-top {
  vertical-align: top
}


th.valign-bottom,
td.valign-bottom {
  vertical-align: bottom
}


th.valign-middle,
td.valign-middle {
  vertical-align: middle
}


table thead th,
table tfoot th {
  font-weight: bold
}


tbody tr th {
  background: #161b22
}


tbody tr th,
tbody tr th p,
tfoot tr th,
tfoot tr th p {
  color: #c9d1d9;
  font-weight: bold
}


p.tableblock>code:only-child {
  background: none;
  padding: 0
}


p.tableblock {
  font-size: 1em
}


ol {
  margin-left: 1.75em
}


ul li ol {
  margin-left: 1.5em
}


dl dd:last-child,
dl dd:last-child>:last-child {
  margin-bottom: 0
}


li p,
ul dd,
ol dd,
.olist .olist,
.ulist .ulist,
.ulist .olist,
.olist .ulist {
  margin-bottom: .625em
}


ul.checklist,
ul.none,
ol.none,
ul.no-bullet,
ol.no-bullet,
ol.unnumbered,
ul.unstyled,
ol.unstyled {
  list-style-type: none
}


ul.no-bullet,
ol.no-bullet,
ol.unnumbered {
  margin-left: .625em
}


ul.unstyled,
ol.unstyled {
  margin-left: 0
}


li>p:empty:only-child::before {
  content: "";
  display: inline-block
}


ul.checklist>li>p:first-child {
  margin-left: -1em
}


ul.checklist>li>p:first-child>.fa-square-o:first-child,
ul.checklist>li>p:first-child>.fa-check-square-o:first-child {
  width: 1.25em;
  font-size: .8em;
  position: relative;
  bottom: .125em
}


ul.checklist>li>p:first-child>input[type=checkbox]:first-child {
  font: inherit;
  margin: 0 .25em 0 0;
  padding: 0
}


ul.inline {
  display: flex;
  flex-flow: row wrap;
  list-style: none;
  margin: 0 0 .625em -1.25em
}


ul.inline>li {
  margin-left: 1.25em
}


.unstyled dl dt {
  font-weight: 400;
  font-style: normal
}


ol.arabic {
  list-style-type: decimal
}


ol.decimal {
  list-style-type: decimal-leading-zero
}


ol.loweralpha {
  list-style-type: lower-alpha
}


ol.upperalpha {
  list-style-type: upper-alpha
}


ol.lowerroman {
  list-style-type: lower-roman
}


ol.upperroman {
  list-style-type: upper-roman
}


ol.lowergreek {
  list-style-type: lower-greek
}


.hdlist>table,
.colist>table {
  border: 0;
  background: none
}


.hdlist>table>tbody>tr,
.colist>table>tbody>tr {
  background: none
}


td.hdlist1,
td.hdlist2 {
  vertical-align: top;
  padding: 0 .625em
}


td.hdlist1 {
  font-weight: bold;
  padding-bottom: 1.25em
}


td.hdlist2 {
  word-wrap: anywhere
}


.literalblock+.colist,
.listingblock+.colist {
  margin-top: -.5em
}


.colist td:not([class]):first-child {
  padding: .4em .75em 0;
  line-height: 1;
  vertical-align: top
}


.colist td:not([class]):first-child img {
  max-width: none
}


.colist td:not([class]):last-child {
  padding: .25em 0
}


.thumb,
.th {
  line-height: 0;
  display: inline-block;
  border: 4px solid #161b22;
  box-shadow: 0 0 0 1px #30363d
}


.imageblock.left {
  margin: .25em .625em 1.25em 0
}


.imageblock.right {
  margin: .25em 0 1.25em .625em
}


.imageblock>.title {
  margin-bottom: 0
}


.imageblock.thumb,
.imageblock.th {
  border-width: 6px
}


.imageblock.thumb>.title,
.imageblock.th>.title {
  padding: 0 .125em
}


.image.left,
.image.right {
  margin-top: .25em;
  margin-bottom: .25em;
  display: inline-block;
  line-height: 0
}


.image.left {
  margin-right: .625em
}


.image.right {
  margin-left: .625em
}


a.image {
  text-decoration: none;
  display: inline-block
}


a.image object {
  pointer-events: none
}


sup.footnote,
sup.footnoteref {
  font-size: .875em;
  position: static;
  vertical-align: super
}


sup.footnote a,
sup.footnoteref a {
  text-decoration: none
}


sup.footnote a:active,
sup.footnoteref a:active,
#footnotes .footnote a:first-of-type:active {
  text-decoration: underline
}


#footnotes {
  padding-top: .75em;
  padding-bottom: .75em;
  margin-bottom: .625em
}


#footnotes hr {
  width: 20%;
  min-width: 6.25em;
  margin: -.25em 0 .75em;
  border-width: 1px 0 0
}


#footnotes .footnote {
  padding: 0 .375em 0 .225em;
  line-height: 1.3334;
  font-size: .875em;
  margin-left: 1.2em;
  margin-bottom: .2em
}


#footnotes .footnote a:first-of-type {
  font-weight: bold;
  text-decoration: none;
  margin-left: -1.05em
}


#footnotes .footnote:last-of-type {
  margin-bottom: 0
}


#content #footnotes {
  margin-top: -.625em;
  margin-bottom: 0;
  padding: .75em 0
}


div.page-break {
  display: none
}


div.unbreakable {
  -moz-column-break-inside: avoid;
  break-inside: avoid
}


.big {
  font-size: larger
}


.small {
  font-size: smaller
}


.underline {
  text-decoration: underline
}


.overline {
  text-decoration: overline
}


.line-through {
  text-decoration: line-through
}


.aqua {
  color: #56d4dd
}


.aqua-background {
  background: #0d6972
}


.black {
  color: #0d1117
}


.black-background {
  background: #010409
}


.blue {
  color: #58a6ff
}


.blue-background {
  background: #0d419d
}


.fuchsia {
  color: #d2a8ff
}


.fuchsia-background {
  background: #6e2c9c
}


.gray {
  color: #8b949e
}


.gray-background {
  background: #30363d
}


.green {
  color: #3fb950
}


.green-background {
  background: #033a16
}


.lime {
  color: #7ee787
}


.lime-background {
  background: #04692c
}


.maroon {
  color: #f85149
}


.maroon-background {
  background: #8e1519
}


.navy {
  color: #1f6feb
}


.navy-background {
  background: #0c2d6b
}


.olive {
  color: #d29922
}


.olive-background {
  background: #4d2d00
}


.purple {
  color: #bc8cff
}


.purple-background {
  background: #5a3c94
}


.red {
  color: #ff7b72
}


.red-background {
  background: #8e1519
}


.silver {
  color: #6e7681
}


.silver-background {
  background: #161b22
}


.teal {
  color: #39c5cf
}


.teal-background {
  background: #0e6f76
}


.white {
  color: #c9d1d9
}


.white-background {
  background: #161b22
}


.yellow {
  color: #f0883e
}


.yellow-background {
  background: #762d0a
}


span.icon>.fa {
  cursor: default
}


a span.icon>.fa {
  cursor: inherit
}


.admonitionblock td.icon [class^="fa icon-"] {
  font-size: 2.5em;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, .5);
  cursor: default
}


.admonitionblock td.icon .icon-note::before {
  content: "\f05a";
  color: #58a6ff
}


.admonitionblock td.icon .icon-tip::before {
  content: "\f0eb";
  text-shadow: 1px 1px 2px rgba(210, 153, 34, .8);
  color: #c9d1d9
}


.admonitionblock td.icon .icon-warning::before {
  content: "\f071";
  color: #d29922
}


.admonitionblock td.icon .icon-caution::before {
  content: "\f06d";
  color: #f0883e
}


.admonitionblock td.icon .icon-important::before {
  content: "\f06a";
  color: #f85149
}


.conum[data-value] {
  display: inline-block;
  color: #fff !important;
  background: #21262d;
  border-radius: 50%;
  text-align: center;
  font-size: .75em;
  width: 1.67em;
  height: 1.67em;
  line-height: 1.67em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif;
  font-style: normal;
  font-weight: bold
}


.conum[data-value] * {
  color: #fff !important
}


.conum[data-value]+b {
  display: none
}


.conum[data-value]::after {
  content: attr(data-value)
}


pre .conum[data-value] {
  position: relative;
  top: -.125em
}


b.conum * {
  color: inherit !important
}


.conum:not([data-value]):empty {
  display: none
}


dt,
th.tableblock,
td.content,
div.footnote {
  text-rendering: optimizeLegibility
}


h1,
h2,
p,
td.content,
span.alt,
summary {
  letter-spacing: -.01em
}


p strong,
td.content strong,
div.footnote strong {
  letter-spacing: -.005em
}


p,
blockquote,
dt,
td.content,
td.hdlist1,
span.alt,
summary {
  font-size: 1.0625rem
}


.sidebarblock p,
.sidebarblock dt,
.sidebarblock td.content,
p.tableblock {
  font-size: 1em
}


.print-only {
  display: none !important
}


@page {
  margin: 1.25cm .75cm
}


@media print {
  * {
    box-shadow: none !important;
    text-shadow: none !important
  }


  html {
    font-size: 80%
  }


  a {
    color: inherit !important;
    text-decoration: underline !important
  }


  a.bare,
  a[href^="#"],
  a[href^="mailto:"] {
    text-decoration: none !important
  }


  a[href^="http:"]:not(.bare)::after,
  a[href^="https:"]:not(.bare)::after {
    content: "(" attr(href) ")";
    display: inline-block;
    font-size: .875em;
    padding-left: .25em
  }


  abbr[title] {
    border-bottom: 1px dotted
  }


  abbr[title]::after {
    content: " (" attr(title) ")"
  }


  pre,
  blockquote,
  tr,
  img,
  object,
  svg {
    -moz-column-break-inside: avoid;
    break-inside: avoid
  }


  thead {
    display: table-header-group
  }


  p,
  blockquote,
  dt,
  td.content {
    font-size: 1em;
    orphans: 3;
    widows: 3
  }


  h2,
  h3,
  #toctitle,
  .sidebarblock>.content>.title {
    -moz-column-break-after: avoid;
    break-after: avoid
  }


  body>div[id] {
    max-width: none
  }


  #toc,
  .sidebarblock,
  .exampleblock>.content {
    background: none !important
  }


  #toc {
    border-bottom: 1px solid #30363d !important;
    padding-bottom: 0 !important
  }


  body.book #header {
    text-align: center
  }


  body.book #header>h1:first-child {
    border: 0 !important;
    margin: 2.5em 0 1em
  }


  body.book #header .details {
    border: 0 !important;
    display: block;
    padding: 0 !important
  }


  body.book #header .details span:first-child {
    margin-left: 0 !important
  }


  body.book #header .details br {
    display: block
  }


  body.book #header .details br+span::before {
    content: none !important
  }


  body.book #toc {
    border: 0 !important;
    text-align: left !important;
    padding: 0 !important;
    margin: 0 !important
  }


  body.book #toc,
  body.book #preamble,
  body.book h1.sect0,
  body.book .sect1>h2 {
    -moz-column-break-before: page;
    break-before: page
  }


  .listingblock code[data-lang]::before {
    display: block
  }


  div.page-break {
    display: block;
    -moz-column-break-after: page;
    break-after: page
  }


  #footer {
    padding: 0 .9375em
  }


  .hide-on-print {
    display: none !important
  }


  .print-only {
    display: block !important
  }


  .hide-for-print {
    display: none !important
  }


  .show-for-print {
    display: inherit !important
  }
}


@media amzn-kf8,
print {
  #header>h1:first-child {
    margin-top: 1.25rem
  }


  .sect1 {
    padding: 0 !important
  }


  .sect1+.sect1 {
    border: 0
  }


  #footer {
    background: none
  }


  #footer-text {
    color: #8b949e;
    font-size: .9em
  }
}


@media amzn-kf8 {
  body>div[id] {
    padding: 0
  }
}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1><span class="image"><img src="./images/arc42-logo-light.png" alt="arc42"></span> yovi_en2b</h1>
<div class="details">
<span id="revnumber">version 8.2 EN,</span>
<span id="revdate">January 2023</span>
<br><span id="revremark">(based upon AsciiDoc version)</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of contents</div>
<ul class="sectlevel1">
<li><a href="#section-introduction-and-goals">1. Introduction and Goals</a>
<ul class="sectlevel2">
<li><a href="#_requirements_overview">1.1. Requirements Overview</a></li>
<li><a href="#_quality_goals">1.2. Quality Goals</a></li>
<li><a href="#_stakeholders">1.3. Stakeholders</a></li>
</ul>
</li>
<li><a href="#section-architecture-constraints">2. Architecture Constraints</a>
<ul class="sectlevel2">
<li><a href="#_technical_constraints">2.1. Technical Constraints</a></li>
<li><a href="#_organizational_constraints">2.2. Organizational Constraints</a></li>
<li><a href="#_conventions">2.3. Conventions</a></li>
</ul>
</li>
<li><a href="#section-context-and-scope">3. Context and Scope</a>
<ul class="sectlevel2">
<li><a href="#_business_context">3.1. Business Context</a></li>
<li><a href="#_technical_context">3.2. Technical Context</a></li>
</ul>
</li>
<li><a href="#section-solution-strategy">4. Solution Strategy</a>
<ul class="sectlevel2">
<li><a href="#_technology_decisions">4.1. Technology decisions</a></li>
<li><a href="#_quality_goal_realization">4.2. Quality Goal Realization</a></li>
<li><a href="#_organizational_decisions">4.3. Organizational decisions</a></li>
</ul>
</li>
<li><a href="#section-building-block-view">5. Building Block View</a>
<ul class="sectlevel2">
<li><a href="#_motivation">5.1. Motivation</a></li>
<li><a href="#_whitebox_overall_system">5.2. Whitebox Overall System</a></li>
<li><a href="#_level_2">5.3. Level 2</a></li>
<li><a href="#_level_3">5.4. Level 3</a></li>
</ul>
</li>
<li><a href="#section-runtime-view">6. Runtime View</a>
<ul class="sectlevel2">
<li><a href="#_runtime_scenario_1">6.1. &lt;Runtime Scenario 1&gt;</a></li>
<li><a href="#_runtime_scenario_2">6.2. &lt;Runtime Scenario 2&gt;</a></li>
<li><a href="#">6.3. &#8230;&#8203;</a></li>
<li><a href="#_runtime_scenario_n">6.4. &lt;Runtime Scenario n&gt;</a></li>
</ul>
</li>
<li><a href="#section-deployment-view">7. Deployment View</a>
<ul class="sectlevel2">
<li><a href="#_infrastructure_level_1">7.1. Infrastructure Level 1</a></li>
<li><a href="#_infrastructure_level_2">7.2. Infrastructure Level 2</a></li>
</ul>
</li>
<li><a href="#section-concepts">8. Cross-cutting Concepts</a>
<ul class="sectlevel2">
<li><a href="#_yen_json_game_state_domain_contract">8.1. YEN - JSON Game State (domain contract)</a></li>
<li><a href="#_rest_conventions">8.2. REST conventions</a></li>
<li><a href="#_authentication_and_authorization">8.3. Authentication and authorization</a></li>
<li><a href="#_backend_for_frontend_bff">8.4. Backend for Frontend (BFF)</a></li>
<li><a href="#_development_concepts">8.5. Development concepts</a></li>
<li><a href="#_user_experience_ux">8.6. User Experience (UX)</a></li>
<li><a href="#_configuration_and_secrets">8.7. Configuration and secrets</a></li>
</ul>
</li>
<li><a href="#section-design-decisions">9. Architecture Decisions</a>
<ul class="sectlevel2">
<li><a href="#_adr_001_bff_internal_services_rest">9.1. ADR-001: BFF + internal services (REST)</a></li>
<li><a href="#_adr_002_internal_endpoints_between_bff_and_gamey">9.2. ADR-002: Internal endpoints between BFF and gamey</a></li>
<li><a href="#_adr_003_yenjson_as_game_state_contract_validation_in_gamey">9.3. ADR-003: YEN/JSON as game state contract + validation in gamey</a></li>
<li><a href="#_adr_004_stateless_engine_no_game_state_persistence_in_m1">9.4. ADR-004: Stateless engine + no game state persistence in M1</a></li>
<li><a href="#_adr_005_api_versioning">9.5. ADR-005: API versioning</a></li>
<li><a href="#_adr_006_jwt_signing_algorithm_for_m1">9.6. ADR-006: JWT signing algorithm for M1</a></li>
<li><a href="#_adr_007_secretsconfig_injection_mechanism">9.7. ADR-007: Secrets/config injection mechanism</a></li>
<li><a href="#_adr_008_error_response_envelope">9.8. ADR-008: Error response envelope</a></li>
<li><a href="#_adr_009_bff_game_service_timeouts">9.9. ADR-009: BFF &#8594; Game Service Timeouts</a></li>
<li><a href="#_adr_010_user_persistence_and_minimal_user_entity">9.10. ADR-010: User persistence and minimal user entity</a></li>
<li><a href="#_adr_011_public_entrypoint_and_routing">9.11. ADR-011: Public entrypoint and routing</a></li>
<li><a href="#_adr_012_reverse_proxy_for_path_based_routing_nginx">9.12. ADR-012: Reverse proxy for path-based routing (Nginx)</a></li>
</ul>
</li>
<li><a href="#section-quality-scenarios">10. Quality Requirements</a>
<ul class="sectlevel2">
<li><a href="#_quality_tree">10.1. Quality Tree</a></li>
<li><a href="#_quality_scenarios">10.2. Quality Scenarios</a></li>
</ul>
</li>
<li><a href="#section-technical-risks">11. Risks and Technical Debts</a></li>
<li><a href="#section-glossary">12. Glossary</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<style>
.arc42help {
    font-size: small;
    width: 16px;
    height: 16px;
    line-height: 16px;
    overflow: hidden;
    position: absolute;
    right: 0;
    padding: 0;
    text-align: center;
    cursor: pointer;
}
.arc42help::before {
    content: "?";
}
.arc42help:hover {
    width: auto;
    height: auto;
    line-height: normal;
    z-index: 100;
    padding: 10px;
    text-align: left;
}
.arc42help:hover::before {
    content: "";
}
@media print {
    .arc42help {display: none;}
}
</style>
<div class="paragraph">
<p><strong>About arc42</strong></p>
</div>
<div class="paragraph lead">
<p>arc42, the template for documentation of software and system architecture.</p>
</div>
<div class="paragraph">
<p>Template Version 8.2 EN. (based upon AsciiDoc version), January 2023</p>
</div>
<div class="paragraph">
<p>Created, maintained and &#169; by Dr. Peter Hruschka, Dr. Gernot Starke and contributors.
See <a href="https://arc42.org" class="bare">https://arc42.org</a>.</p>
</div>
<hr>
<div class="sidebarblock arc42help">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This version of the template contains some help and explanations.
It is used for familiarization with arc42 and the understanding of the concepts.
For documentation of your own system you use better the <em>plain</em> version.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-introduction-and-goals">1. Introduction and Goals</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>Describes the relevant requirements and the driving forces that software architects and development team must consider.
These include</p>
</div>
<div class="ulist">
<ul>
<li>
<p>underlying business goals,</p>
</li>
<li>
<p>essential features,</p>
</li>
<li>
<p>essential functional requirements,</p>
</li>
<li>
<p>quality goals for the architecture and</p>
</li>
<li>
<p>relevant stakeholders and their expectations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>The project that was proposed was implementing the game "gamey", all while mantaining a professional</p>
</div>
<div class="paragraph">
<p>workflow simulating real life situations, covering all the aspects that could happen, these include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Backend development</p>
</li>
<li>
<p>Frontend development</p>
</li>
<li>
<p>Management of new API&#8217;s and overcome difficulties with new software</p>
</li>
<li>
<p>Quality control</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If all of these are followed correctly the resulting project should go according to the theory.</p>
</div>
<div class="sect2">
<h3 id="_requirements_overview">1.1. Requirements Overview</h3>
<div class="paragraph">
<p>The game should be accessed in a web server, in which the player will be able to log in and save its results.</p>
</div>
<div class="paragraph">
<p>As for the game, a bot will be implemented with an algorithm according to the difficulty selected by the player,</p>
</div>
<div class="paragraph">
<p>so it should go from easy to hard.</p>
</div>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Short description of the functional requirements, driving forces, extract (or abstract)
of requirements. Link to (hopefully existing) requirements documents
(with version number and information where to find it).</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>From the point of view of the end users a system is created or modified to
improve support of a business activity and/or improve the quality.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Short textual description, probably in tabular use-case format.
If requirements documents exist this overview should refer to these documents.</p>
</div>
<div class="paragraph">
<p>Keep these excerpts as short as possible. Balance readability of this document with potential redundancy w.r.t to requirements documents.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-1/">Introduction and Goals</a> in the arc42 documentation.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quality_goals">1.2. Quality Goals</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">Quality Goal</th>
<th class="tableblock halign-left valign-top">Scenario</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Usability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Players should be able to register, log in, and start a game against the bot in under 30 seconds without needing a manual.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Performance</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The bot&#8217;s move calculation (latency) must be under 500ms, even on the "Hard" difficulty setting, to maintain game flow.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Maintainability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New features or bot algorithms can be integrated within one work day without breaking the existing frontend or API contracts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reliability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system must ensure 99% data integrity, specifically that game results are never lost during a database save operation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Security</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only authenticated users can submit scores to their own profiles; the API must prevent "score spoofing" from external tools.</p></td>
</tr>
</tbody>
</table>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>The top three (max five) quality goals for the architecture whose fulfillment is of highest importance to the major stakeholders.
We really mean quality goals for the architecture. Don&#8217;t confuse them with project goals.
They are not necessarily identical.</p>
</div>
<div class="paragraph">
<p>Consider this overview of potential topics (based upon the ISO 25010 standard):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/01_2_iso-25010-topics-EN.drawio.png" alt="Categories of Quality Requirements">
</div>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>You should know the quality goals of your most important stakeholders, since they will influence fundamental architectural decisions.
Make sure to be very concrete about these qualities, avoid buzzwords.
If you as an architect do not know how the quality of your work will be judged&#8230;&#8203;</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>A table with quality goals and concrete scenarios, ordered by priorities</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_stakeholders">1.3. Stakeholders</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Explicit overview of stakeholders of the system, i.e. all person, roles or organizations that</p>
</div>
<div class="ulist">
<ul>
<li>
<p>should know the architecture</p>
</li>
<li>
<p>have to be convinced of the architecture</p>
</li>
<li>
<p>have to work with the architecture or with code</p>
</li>
<li>
<p>need the documentation of the architecture for their work</p>
</li>
<li>
<p>have to come up with decisions about the system or its development</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>You should know all parties involved in development of the system or affected by the system.
Otherwise, you may get nasty surprises later in the development process.
These stakeholders determine the extent and the level of detail of your work and its results.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Table with role names, person names, and their expectations with respect to the architecture and its documentation.</p>
</div>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Role/Name</th>
<th class="tableblock halign-left valign-top">Contact</th>
<th class="tableblock halign-left valign-top">Expectations</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Project Supervisor (Teacher)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Teaching Staff</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expects a professional development workflow, clean and documented code, and fulfillment of all functional requirements (the bot and web server).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Development Team (Students)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Student Group</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expect to learn new technologies (API management, Frontend/Backend), gain experience in professional workflows, and achieve a high grade.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>End Users (Players)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Access</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expect a functional and entertaining game, a challenging bot difficulty, and the ability to save their progress reliably.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Quality Assurance (QA)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal Team</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expects the code to be testable and the game to be free of critical bugs before deployment.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-architecture-constraints">2. Architecture Constraints</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_technical_constraints">2.1. Technical Constraints</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constraint</th>
<th class="tableblock halign-left valign-top">Background and/or Motivation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Web-based Access</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The game must be accessible via a standard web browser (Chrome, Firefox, etc.) without requiring local installation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Backend/Frontend Separation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To simulate professional workflows, the logic (API) and the presentation (UI) must be decoupled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Bot Implementation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system must include an algorithmic bot with at least three levels of difficulty (Easy, Medium, Hard).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Persistence</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A database or persistent storage must be used to save player profiles and game history.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_organizational_constraints">2.2. Organizational Constraints</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constraint</th>
<th class="tableblock halign-left valign-top">Background and/or Motivation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Team Structure</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Work is divided among students acting as a full-stack development team, requiring clear communication and task management.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Deadline</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The project must be completed and documented within the academic semester timeframe.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Software and API decisions</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">We will be forced to used new software like docker, typescript, and rust, in which we are novice.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_conventions">2.3. Conventions</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constraint</th>
<th class="tableblock halign-left valign-top">Background and/or Motivation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>arc42 Documentation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The software architecture must be documented using the arc42 template.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Version Control</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use of Git (e.g., GitHub or GitLab) is mandatory to track progress and manage collaborative code changes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>YEN notation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use of the YEN notation in JSON messages.</p></td>
</tr>
</tbody>
</table>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Any requirement that constraints software architects in their freedom of design and implementation decisions or decision about the development process.
These constraints sometimes go beyond individual systems and are valid for whole organizations and companies.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Architects should know exactly where they are free in their design decisions and where they must adhere to constraints.
Constraints must always be dealt with; they may be negotiable, though.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Simple tables of constraints with explanations.
If needed you can subdivide them into
technical constraints, organizational and political constraints and
conventions (e.g. programming or versioning guidelines, documentation or naming conventions)</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-2/">Architecture Constraints</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-context-and-scope">3. Context and Scope</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Context and scope - as the name suggests - delimits your system (i.e. your scope) from all its communication partners
(neighboring systems and users, i.e. the context of your system). It thereby specifies the external interfaces.</p>
</div>
<div class="paragraph">
<p>If necessary, differentiate the business context (domain specific inputs and outputs) from the technical context (channels, protocols, hardware).</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>The domain interfaces and technical interfaces to communication partners are among your system&#8217;s most critical aspects. Make sure that you completely understand them.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Various options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Context diagrams</p>
</li>
<li>
<p>Lists of communication partners and their interfaces.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-3/">Context and Scope</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_business_context">3.1. Business Context</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Specification of <strong>all</strong> communication partners (users, IT-systems, &#8230;&#8203;) with explanations of domain specific inputs and outputs or interfaces.
Optionally you can add domain specific formats or communication protocols.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>All stakeholders should understand which data are exchanged with the environment of the system.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>All kinds of diagrams that show the system as a black box and specify the domain interfaces to communication partners.</p>
</div>
<div class="paragraph">
<p>Alternatively (or additionally) you can use a table.
The title of the table is the name of your system, the three columns contain the name of the communication partner, the inputs, and the outputs.</p>
</div>
</div>
</div>
<div class="paragraph">
<p><strong>&lt;Diagram or Table&gt;</strong></p>
</div>
<div class="paragraph">
<p><strong>&lt;optionally: Explanation of external domain interfaces&gt;</strong></p>
</div>
</div>
<div class="sect2">
<h3 id="_technical_context">3.2. Technical Context</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Technical interfaces (channels and transmission media) linking your system to its environment. In addition a mapping of domain specific input/output to the channels, i.e. an explanation which I/O uses which channel.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Many stakeholders make architectural decision based on the technical interfaces between the system and its context. Especially infrastructure or hardware designers decide these technical interfaces.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>E.g. UML deployment diagram describing channels to neighboring systems,
together with a mapping table showing the relationships between channels and input/output.</p>
</div>
</div>
</div>
<div class="paragraph">
<p><strong>&lt;Diagram or Table&gt;</strong></p>
</div>
<div class="paragraph">
<p><strong>&lt;optionally: Explanation of technical interfaces&gt;</strong></p>
</div>
<div class="paragraph">
<p><strong>&lt;Mapping Input/Output to Channels&gt;</strong></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-solution-strategy">4. Solution Strategy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The architecture of the YOVI system is based on a modular approach that separates the user interface from the core game logic. This strategy supports mantainability, extensibility and interoperability, which are key quality goals of the system. The web application acts as the client-facing component, handling user interaction, presentation logic, and API exposure, while the game logic is encapsulated in a separate backend module.
This separation allows the core game logic to remain independent from the user interface
and facilitates future extensions such as additional clients or alternative frontends.</p>
</div>
<div class="sect2">
<h3 id="_technology_decisions">4.1. Technology decisions</h3>
<div class="paragraph">
<p>The web application is implemented in TypeScript to facilitate the use of frameworks and ease the development of interactive user interfaces.</p>
</div>
<div class="paragraph">
<p>The game logic module is implemented in Rust due to its performance characteristics, memory safety and suitability for implementing complex algorithm.</p>
</div>
<div class="paragraph">
<p>Communication between the two subsystems is performed using JSON and following the YEN notation, this ensures that data is exchanged correctly.</p>
</div>
</div>
<div class="sect2">
<h3 id="_quality_goal_realization">4.2. Quality Goal Realization</h3>
<div class="paragraph">
<p>Correctness and reliability are achieved by having all rule enforcement and game logic within the Rust game module.</p>
</div>
<div class="paragraph">
<p>Usability is achieved thanks to having an intuitive and clear frontend that is easy to use for players.</p>
</div>
<div class="paragraph">
<p>Performance is ensured by using efficient algorithms and a really efficient compiled language.</p>
</div>
<div class="paragraph">
<p>Maintainability is achieved thanks to the modular design of the system and the clear separation of subsystems.</p>
</div>
</div>
<div class="sect2">
<h3 id="_organizational_decisions">4.3. Organizational decisions</h3>
<div class="paragraph">
<p>The system is developed by a four-member team with clear responsability separation. Version control and issue tracking are used to support collaborative development and ensure code quality.</p>
</div>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>A short summary and explanation of the fundamental decisions and solution strategies, that shape system architecture. It includes</p>
</div>
<div class="ulist">
<ul>
<li>
<p>technology decisions</p>
</li>
<li>
<p>decisions about the top-level decomposition of the system, e.g. usage of an architectural pattern or design pattern</p>
</li>
<li>
<p>decisions on how to achieve key quality goals</p>
</li>
<li>
<p>relevant organizational decisions, e.g. selecting a development process or delegating certain tasks to third parties.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>These decisions form the cornerstones for your architecture. They are the foundation for many other detailed decisions or implementation rules.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Keep the explanations of such key decisions short.</p>
</div>
<div class="paragraph">
<p>Motivate what was decided and why it was decided that way,
based upon problem statement, quality goals and key constraints.
Refer to details in the following sections.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-4/">Solution Strategy</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-building-block-view">5. Building Block View</h2>
<div class="sectionbody">
<div class="paragraph">
<p>TODO &#8594; Diagram</p>
</div>
<div class="sect2">
<h3 id="_motivation">5.1. Motivation</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>The building block view shows the static decomposition of the system into building blocks (modules, components, subsystems, classes, interfaces, packages, libraries, frameworks, layers, partitions, tiers, functions, macros, operations, data structures, &#8230;&#8203;) as well as their dependencies (relationships, associations, &#8230;&#8203;)</p>
</div>
<div class="paragraph">
<p>This view is mandatory for every architecture documentation.
In analogy to a house this is the <em>floor plan</em>.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Maintain an overview of your source code by making its structure understandable through
abstraction.</p>
</div>
<div class="paragraph">
<p>This allows you to communicate with your stakeholder on an abstract level without disclosing implementation details.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>The building block view is a hierarchical collection of black boxes and white boxes
(see figure below) and their descriptions.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/05_building_blocks-EN.png" alt="Hierarchy of building blocks">
</div>
</div>
<div class="paragraph">
<p><strong>Level 1</strong> is the white box description of the overall system together with black
box descriptions of all contained building blocks.</p>
</div>
<div class="paragraph">
<p><strong>Level 2</strong> zooms into some building blocks of level 1.
Thus it contains the white box description of selected building blocks of level 1, together with black box descriptions of their internal building blocks.</p>
</div>
<div class="paragraph">
<p><strong>Level 3</strong> zooms into selected building blocks of level 2, and so on.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-5/">Building Block View</a> in the arc42 documentation.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_whitebox_overall_system">5.2. Whitebox Overall System</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>Here you describe the decomposition of the overall system using the following white box template. It contains</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an overview diagram</p>
</li>
<li>
<p>a motivation for the decomposition</p>
</li>
<li>
<p>black box descriptions of the contained building blocks. For these we offer you alternatives:</p>
<div class="ulist">
<ul>
<li>
<p>use <em>one</em> table for a short and pragmatic overview of all contained building blocks and their interfaces</p>
</li>
<li>
<p>use a list of black box descriptions of the building blocks according to the black box template (see below).
Depending on your choice of tool this list could be sub-chapters (in text files), sub-pages (in a Wiki) or nested elements (in a modeling tool).</p>
</li>
</ul>
</div>
</li>
<li>
<p>(optional:) important interfaces, that are not explained in the black box templates of a building block, but are very important for understanding the white box.
Since there are so many ways to specify interfaces why do not provide a specific template for them.
 In the worst case you have to specify and describe syntax, semantics, protocols, error handling,
 restrictions, versions, qualities, necessary compatibilities and many things more.
In the best case you will get away with examples or simple signatures.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p><em><strong>&lt;Overview Diagram&gt;</strong></em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Motivation</dt>
<dd>
<p><em>&lt;text explanation&gt;</em></p>
</dd>
<dt class="hdlist1">Contained Building Blocks</dt>
<dd>
<p><em>&lt;Description of contained building block (black boxes)&gt;</em></p>
</dd>
<dt class="hdlist1">Important Interfaces</dt>
<dd>
<p><em>&lt;Description of important interfaces&gt;</em></p>
</dd>
</dl>
</div>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>Insert your explanations of black boxes from level 1:</p>
</div>
<div class="paragraph">
<p>If you use tabular form you will only describe your black boxes with name and
responsibility according to the following schema:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Responsibility</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;black box 1&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Text&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;black box 2&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Text&gt;</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If you use a list of black box descriptions then you fill in a separate black box template for every important building block .
Its headline is the name of the black box.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_name_black_box_1">5.2.1. &lt;Name black box 1&gt;</h4>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>Here you describe &lt;black box 1&gt;
according the the following black box template:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Purpose/Responsibility</p>
</li>
<li>
<p>Interface(s), when they are not extracted as separate paragraphs. This interfaces may include qualities and performance characteristics.</p>
</li>
<li>
<p>(Optional) Quality-/Performance characteristics of the black box, e.g.availability, run time behavior, &#8230;&#8203;.</p>
</li>
<li>
<p>(Optional) directory/file location</p>
</li>
<li>
<p>(Optional) Fulfilled requirements (if you need traceability to requirements).</p>
</li>
<li>
<p>(Optional) Open issues/problems/risks</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p><em>&lt;Purpose/Responsibility&gt;</em></p>
</div>
<div class="paragraph">
<p><em>&lt;Interface(s)&gt;</em></p>
</div>
<div class="paragraph">
<p><em>&lt;(Optional) Quality/Performance Characteristics&gt;</em></p>
</div>
<div class="paragraph">
<p><em>&lt;(Optional) Directory/File Location&gt;</em></p>
</div>
<div class="paragraph">
<p><em>&lt;(Optional) Fulfilled Requirements&gt;</em></p>
</div>
<div class="paragraph">
<p><em>&lt;(optional) Open Issues/Problems/Risks&gt;</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_name_black_box_2">5.2.2. &lt;Name black box 2&gt;</h4>
<div class="paragraph">
<p><em>&lt;black box template&gt;</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_name_black_box_n">5.2.3. &lt;Name black box n&gt;</h4>
<div class="paragraph">
<p><em>&lt;black box template&gt;</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_name_interface_1">5.2.4. &lt;Name interface 1&gt;</h4>
<div class="paragraph">
<p>&#8230;&#8203;</p>
</div>
</div>
<div class="sect3">
<h4 id="_name_interface_m">5.2.5. &lt;Name interface m&gt;</h4>

</div>
</div>
<div class="sect2">
<h3 id="_level_2">5.3. Level 2</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>Here you can specify the inner structure of (some) building blocks from level 1 as white boxes.</p>
</div>
<div class="paragraph">
<p>You have to decide which building blocks of your system are important enough to justify such a detailed description.
Please prefer relevance over completeness. Specify important, surprising, risky, complex or volatile building blocks.
Leave out normal, simple, boring or standardized parts of your system</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_white_box_building_block_1">5.3.1. White Box <em>&lt;building block 1&gt;</em></h4>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>&#8230;&#8203;describes the internal structure of <em>building block 1</em>.</p>
</div>
</div>
</div>
<div class="paragraph">
<p><em>&lt;white box template&gt;</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_white_box_building_block_2">5.3.2. White Box <em>&lt;building block 2&gt;</em></h4>
<div class="paragraph">
<p><em>&lt;white box template&gt;</em></p>
</div>
<div class="paragraph">
<p>&#8230;&#8203;</p>
</div>
</div>
<div class="sect3">
<h4 id="_white_box_building_block_m">5.3.3. White Box <em>&lt;building block m&gt;</em></h4>
<div class="paragraph">
<p><em>&lt;white box template&gt;</em></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_level_3">5.4. Level 3</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>Here you can specify the inner structure of (some) building blocks from level 2 as white boxes.</p>
</div>
<div class="paragraph">
<p>When you need more detailed levels of your architecture please copy this
part of arc42 for additional levels.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_white_box_building_block_x_1">5.4.1. White Box &lt;_building block x.1_&gt;</h4>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>Specifies the internal structure of <em>building block x.1</em>.</p>
</div>
</div>
</div>
<div class="paragraph">
<p><em>&lt;white box template&gt;</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_white_box_building_block_x_2">5.4.2. White Box &lt;_building block x.2_&gt;</h4>
<div class="paragraph">
<p><em>&lt;white box template&gt;</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_white_box_building_block_y_1">5.4.3. White Box &lt;_building block y.1_&gt;</h4>
<div class="paragraph">
<p><em>&lt;white box template&gt;</em></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-runtime-view">6. Runtime View</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>The runtime view describes concrete behavior and interactions of the systems building blocks in form of scenarios from the following areas:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>important use cases or features: how do building blocks execute them?</p>
</li>
<li>
<p>interactions at critical external interfaces: how do building blocks cooperate with users and neighboring systems?</p>
</li>
<li>
<p>operation and administration: launch, start-up, stop</p>
</li>
<li>
<p>error and exception scenarios</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Remark: The main criterion for the choice of possible scenarios (sequences, workflows) is their <strong>architectural relevance</strong>. It is <strong>not</strong> important to describe a large number of scenarios. You should rather document a representative selection.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>You should understand how (instances of) building blocks of your system perform their job and communicate at runtime.
You will mainly capture scenarios in your documentation to communicate your architecture to stakeholders that are less willing or able to read and understand the static models (building block view, deployment view).</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>There are many notations for describing scenarios, e.g.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>numbered list of steps (in natural language)</p>
</li>
<li>
<p>activity diagrams or flow charts</p>
</li>
<li>
<p>sequence diagrams</p>
</li>
<li>
<p>BPMN or EPCs (event process chains)</p>
</li>
<li>
<p>state machines</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-6/">Runtime View</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_runtime_scenario_1">6.1. &lt;Runtime Scenario 1&gt;</h3>
<div class="ulist">
<ul>
<li>
<p><em>&lt;insert runtime diagram or textual description of the scenario&gt;</em></p>
</li>
<li>
<p><em>&lt;insert description of the notable aspects of the interactions between the
building block instances depicted in this diagram.&gt;</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is possible to use a sequence diagram:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not find the 'd2' executable in PATH; add it to the PATH or specify its location using the 'd2' document attribute
vars: {
  d2-config: {
    theme-overrides: {
      n7: "#0D1117"
    }
  }
}

shape: sequence_diagram

alice: Alice
alice.shape: c4-person

bob: Bob
bob.shape: c4-person

bob_pod: "Bob's\nPod"
bob_pod.shape: cylinder

alice -&gt; bob: Authentication request
bob -&gt; alice: Authentication response {
  style.stroke-dash: 2
}
alice -&gt; bob_pod: Store route {
  style.stroke-dash: 2
}
alice -&gt; bob: Authentication request
bob -&gt; alice: Authentication response {
  style.stroke-dash: 2
}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_runtime_scenario_2">6.2. &lt;Runtime Scenario 2&gt;</h3>

</div>
<div class="sect2">
<h3 id="">6.3. &#8230;&#8203;</h3>

</div>
<div class="sect2">
<h3 id="_runtime_scenario_n">6.4. &lt;Runtime Scenario n&gt;</h3>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-deployment-view">7. Deployment View</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>The deployment view describes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>technical infrastructure used to execute your system, with infrastructure elements like geographical locations, environments, computers, processors, channels and net topologies as well as other infrastructure elements and</p>
</li>
<li>
<p>mapping of (software) building blocks to that infrastructure elements.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Often systems are executed in different environments, e.g. development environment, test environment, production environment. In such cases you should document all relevant environments.</p>
</div>
<div class="paragraph">
<p>Especially document a deployment view if your software is executed as distributed system with more than one computer, processor, server or container or when you design and construct your own hardware processors and chips.</p>
</div>
<div class="paragraph">
<p>From a software perspective it is sufficient to capture only those elements of an infrastructure that are needed to show a deployment of your building blocks. Hardware architects can go beyond that and describe an infrastructure to any level of detail they need to capture.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Software does not run without hardware.
This underlying infrastructure can and will influence a system and/or some
cross-cutting concepts. Therefore, there is a need to know the infrastructure.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Maybe a highest level deployment diagram is already contained in section 3.2. as
technical context with your own infrastructure as ONE black box. In this section one can
zoom into this black box using additional deployment diagrams:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>UML offers deployment diagrams to express that view. Use it, probably with nested diagrams,
when your infrastructure is more complex.</p>
</li>
<li>
<p>When your (hardware) stakeholders prefer other kinds of diagrams rather than a deployment diagram, let them use any kind that is able to show nodes and channels of the infrastructure.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-7/">Deployment View</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_infrastructure_level_1">7.1. Infrastructure Level 1</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>Describe (usually in a combination of diagrams, tables, and text):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>distribution of a system to multiple locations, environments, computers, processors, .., as well as physical connections between them</p>
</li>
<li>
<p>important justifications or motivations for this deployment structure</p>
</li>
<li>
<p>quality and/or performance features of this infrastructure</p>
</li>
<li>
<p>mapping of software artifacts to elements of this infrastructure</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For multiple environments or alternative deployments please copy and adapt this section of arc42 for all relevant environments.</p>
</div>
</div>
</div>
<div class="paragraph">
<p><em><strong>&lt;Overview Diagram&gt;</strong></em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Motivation</dt>
<dd>
<p><em>&lt;explanation in text form&gt;</em></p>
</dd>
<dt class="hdlist1">Quality and/or Performance Features</dt>
<dd>
<p><em>&lt;explanation in text form&gt;</em></p>
</dd>
<dt class="hdlist1">Mapping of Building Blocks to Infrastructure</dt>
<dd>
<p><em>&lt;description of the mapping&gt;</em></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_infrastructure_level_2">7.2. Infrastructure Level 2</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>Here you can include the internal structure of (some) infrastructure elements from level 1.</p>
</div>
<div class="paragraph">
<p>Please copy the structure from level 1 for each selected element.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_infrastructure_element_1">7.2.1. <em>&lt;Infrastructure Element 1&gt;</em></h4>
<div class="paragraph">
<p><em>&lt;diagram + explanation&gt;</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_infrastructure_element_2">7.2.2. <em>&lt;Infrastructure Element 2&gt;</em></h4>
<div class="paragraph">
<p><em>&lt;diagram + explanation&gt;</em></p>
</div>
<div class="paragraph">
<p>&#8230;&#8203;</p>
</div>
</div>
<div class="sect3">
<h4 id="_infrastructure_element_n">7.2.3. <em>&lt;Infrastructure Element n&gt;</em></h4>
<div class="paragraph">
<p><em>&lt;diagram + explanation&gt;</em></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-concepts">8. Cross-cutting Concepts</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>This section describes overall, principal regulations and solution ideas that are relevant in multiple parts (= cross-cutting) of your system.
Such concepts are often related to multiple building blocks.
They can include many different topics, such as</p>
</div>
<div class="ulist">
<ul>
<li>
<p>models, especially domain models</p>
</li>
<li>
<p>architecture or design patterns</p>
</li>
<li>
<p>rules for using specific technology</p>
</li>
<li>
<p>principal, often technical decisions of an overarching (= cross-cutting) nature</p>
</li>
<li>
<p>implementation rules</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Concepts form the basis for <em>conceptual integrity</em> (consistency, homogeneity) of the architecture.
Thus, they are an important contribution to achieve inner qualities of your system.</p>
</div>
<div class="paragraph">
<p>Some of these concepts cannot be assigned to individual building blocks, e.g. security or safety.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>The form can be varied:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>concept papers with any kind of structure</p>
</li>
<li>
<p>cross-cutting model excerpts or scenarios using notations of the architecture views</p>
</li>
<li>
<p>sample implementations, especially for technical concepts</p>
</li>
<li>
<p>reference to typical usage of standard frameworks (e.g. using Hibernate for object/relational mapping)</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Structure</div>
<p>A potential (but not mandatory) structure for this section could be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Domain concepts</p>
</li>
<li>
<p>User Experience concepts (UX)</p>
</li>
<li>
<p>Safety and security concepts</p>
</li>
<li>
<p>Architecture and design patterns</p>
</li>
<li>
<p>"Under-the-hood"</p>
</li>
<li>
<p>development concepts</p>
</li>
<li>
<p>operational concepts</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: it might be difficult to assign individual concepts to one specific topic
on this list.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/08-concepts-EN.drawio.png" alt="Possible topics for crosscutting concepts">
</div>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-8/">Concepts</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_yen_json_game_state_domain_contract">8.1. YEN - JSON Game State (domain contract)</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Purpose</dt>
<dd>
<p>Represent the state of a Game Y match at a particular point of time. Domain contract between<br>
<code>webapp-backend</code> &#8592;&#8594; <code>gamey</code>.</p>
</dd>
<dt class="hdlist1">Format</dt>
<dd>
<p>The game state is serialized as JSON using YEN notation.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">Example:</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "size": 4,
  "turn": "R",
  "players": [ "B", "R" ],
  "layout": "B/.B/RB./B..R"
}</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Minimal invariants</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>size</em>: integer &gt; 0.</p>
</li>
<li>
<p><em>turn</em>: must be a player ID from the players list.</p>
</li>
<li>
<p><em>players</em>: an array holding player IDs, currently "B" and "R".</p>
</li>
<li>
<p><em>layout</em>: string representation of the board, '/' is the separator and '.' represents an empty cell.</p>
</li>
<li>
<p>The system  responds with a 4xx error for invalid states (see 8.2 / 8.2.1).</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Compatibility</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>We only publish one version of the API as part of M1, and we&#8217;re not too concerned about backward compatibility.</p>
</li>
<li>
<p>Any breaking change must be reflected in the documentation and contract tests.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_rest_conventions">8.2. REST conventions</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Scope</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Applies to:</p>
<div class="ulist">
<ul>
<li>
<p><code>webapp-backend</code> &#8594; <code>frontend</code></p>
</li>
<li>
<p><code>webapp-backend</code> &#8594; <code>users</code></p>
</li>
<li>
<p><code>webapp-backend</code> &#8594; <code>gamey</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Conventions</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>JSON as the default payload format.</p>
</li>
<li>
<p>HTTP status codes:</p>
<div class="ulist">
<ul>
<li>
<p>2xx success, 4xx client/request/validation/auth error, 5xx internal/server error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Timeouts and retries:</p>
<div class="ulist">
<ul>
<li>
<p>Calls to <code>gamey</code>/<code>users</code> must use finite timeouts.</p>
</li>
<li>
<p>Do not automatically retry non-idempotent operations (if any exist).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Recommended headers</p>
<div class="ulist">
<ul>
<li>
<p>Content-Type: application/json</p>
</li>
<li>
<p>Accept: application/json</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_authentication_and_authorization">8.3. Authentication and authorization</h3>
<div class="paragraph">
<p>TBD</p>
</div>
<div class="paragraph">
<p>&#8230;&#8203;</p>
</div>
</div>
<div class="sect2">
<h3 id="_backend_for_frontend_bff">8.4. Backend for Frontend (BFF)</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Principles</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>The frontend only consumes <code>webapp-backend</code>.</p>
</li>
<li>
<p><code>users</code> and <code>gamey</code> are not accessible from the browser (no direct routing and no CORS exposure).</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Motivation</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Simplifies the frontend and centralizes auth and service composition in one place.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_development_concepts">8.5. Development concepts</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Rules</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Trunk-based development with short-lived branches.</p>
</li>
<li>
<p>Changes reach trunk (master) only via Pull Request.</p>
</li>
<li>
<p>Mandatory checks before merge: at least 1 human approval + green CI.</p>
</li>
<li>
<p>Pull Requests are merged using squash merge to keep a linear history.</p>
</li>
<li>
<p>Merge without feature flags to prioritize simplicity.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_user_experience_ux">8.6. User Experience (UX)</h3>
<div class="paragraph">
<p>TBD</p>
</div>
<div class="paragraph">
<p>&#8230;&#8203;</p>
</div>
</div>
<div class="sect2">
<h3 id="_configuration_and_secrets">8.7. Configuration and secrets</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Rules</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Environment-specific configuration is injected from the outside (e.g., environment variables in compose/CI).</p>
</li>
<li>
<p>Secrets (keys, tokens, passwords) are never committed to the repo and never baked into images; local dev uses a non-committed <code>.env</code>.</p>
</li>
<li>
<p>Do not log secret, mask if needed.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-design-decisions">9. Architecture Decisions</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Important, expensive, large scale or risky architecture decisions including rationales.
With "decisions" we mean selecting one alternative based on given criteria.</p>
</div>
<div class="paragraph">
<p>Please use your judgement to decide whether an architectural decision should be documented
here in this central section or whether you better document it locally
(e.g. within the white box template of one building block).</p>
</div>
<div class="paragraph">
<p>Avoid redundancy.
Refer to section 4, where you already captured the most important decisions of your architecture.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Stakeholders of your system should be able to comprehend and retrace your decisions.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Various options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ADR (<a href="https://cognitect.com/blog/2011/11/15/documenting-architecture-decisions">Documenting Architecture Decisions</a>) for every important decision</p>
</li>
<li>
<p>List or table, ordered by importance and consequences or:</p>
</li>
<li>
<p>more detailed in form of separate sections per decision</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-9/">Architecture Decisions</a> in the arc42 documentation.
There you will find links and examples about ADR.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_adr_001_bff_internal_services_rest">9.1. ADR-001: BFF + internal services (REST)</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Context</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Browser-facing API must be centralized.</p>
</li>
<li>
<p>We have webapp (frontend + backend), users, and gamey.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Decision</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Use webapp-backend as Backend-for-Frontend (BFF).</p>
</li>
<li>
<p>webapp-backend communicates with users and gamey via REST.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Consequences</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Frontend only talks to BFF; internal services are not directly called from the browser.</p>
</li>
<li>
<p>BFF centralizes orchestration and security checks.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Status: PROPOSED
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_adr_002_internal_endpoints_between_bff_and_gamey">9.2. ADR-002: Internal endpoints between BFF and gamey</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Context</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>gamey is internal and provides core game logic.</p>
</li>
<li>
<p>BFF must check availability and request bot move selection.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Decision</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>gamey exposes (internal) endpoints:</p>
</li>
<li>
<p>GET /Status (health check)</p>
</li>
<li>
<p>POST /{api_version}/ybot/choose/{bot_id} (accepts YEN/JSON game state, returns coordinates as JSON)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Consequences</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Internal API is small and focused.</p>
</li>
<li>
<p>Requires stable request/response contracts for YEN and move coordinates.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Status: PROPOSED
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_adr_003_yenjson_as_game_state_contract_validation_in_gamey">9.3. ADR-003: YEN/JSON as game state contract + validation in gamey</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Context</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Game state must follow YEN notation.</p>
</li>
<li>
<p>Invalid game states must be rejected.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Decision</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Exchange game state as JSON following YEN.</p>
</li>
<li>
<p>Validate YEN in gamey; return JSON error response when invalid.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Consequences</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Single point of truth for domain validation is gamey.</p>
</li>
<li>
<p>BFF treats validation errors as 4xx and surfaces them to clients.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Status: PROPOSED
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_adr_004_stateless_engine_no_game_state_persistence_in_m1">9.4. ADR-004: Stateless engine + no game state persistence in M1</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Context</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>M1 prioritizes end-to-end functionality.</p>
</li>
<li>
<p>Persisting game states is out of scope for M1.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Decision</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>gamey is stateless.</p>
</li>
<li>
<p>No persistence of game state in M1.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Consequences</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Each request must carry all required state.</p>
</li>
<li>
<p>Simplifies deployment and testing for M1.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Status: PROPOSED
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_adr_005_api_versioning">9.5. ADR-005: API versioning</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Context</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Breaking changes may happen; backward compatibility is not strict.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Decision</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Breaking changes require a major version bump (v1.x &#8594; v2).</p>
</li>
<li>
<p>M1 ships API v1 only.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Consequences</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Clear rule for future evolution.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Status: PROPOSED
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_adr_006_jwt_signing_algorithm_for_m1">9.6. ADR-006: JWT signing algorithm for M1</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Context</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>users issues tokens; webapp-backend validates them.</p>
</li>
<li>
<p>We want minimal implementation complexity in M1.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Decision</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Use HS256 for JWT signing/verification in M1.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Consequences</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Simpler setup (shared secret).</p>
</li>
<li>
<p>The verification component (webapp-backend) also needs the shared secret, increasing impact if it leaks (trade-off accepted).</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Status: PROPOSED
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_adr_007_secretsconfig_injection_mechanism">9.7. ADR-007: Secrets/config injection mechanism</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Context</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Secrets must not be stored in git.</p>
</li>
<li>
<p>We need a simple approach for local dev and CI.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Decision</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Use environment variables for secrets/config.</p>
</li>
<li>
<p>In local dev, load them via dotenv (.env not committed).</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Consequences</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Easy to use with Docker Compose and CI secret stores.</p>
</li>
<li>
<p>Requires discipline to avoid printing/leaking env values in logs.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Status: PROPOSED
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_adr_008_error_response_envelope">9.8. ADR-008: Error response envelope</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Context</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Multiple services and clients need consistent error handling.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Decision</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Standardize JSON error responses using:</p>
</li>
<li>
<p>errorCode</p>
</li>
<li>
<p>message</p>
</li>
<li>
<p>requestId</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Consequences</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Easier frontend/BFF error mapping and debugging.</p>
</li>
<li>
<p>Requires keeping error codes stable over time.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Status: PROPOSED
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_adr_009_bff_game_service_timeouts">9.9. ADR-009: BFF &#8594; Game Service Timeouts</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Context</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Bot move computation and network calls can be slow or fail.</p>
</li>
<li>
<p>The BFF must remain responsive.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Decision</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Apply timeouts to BFF &#8594; game service requests.</p>
</li>
<li>
<p>Allow strictly bounded retries only for safe, idempotent operations.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Consequences</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Prevents hanging requests and improves UX.</p>
</li>
<li>
<p>Retries can increase load during outages; keep limits conservative and configurable.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Status: PROPOSED
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_adr_010_user_persistence_and_minimal_user_entity">9.10. ADR-010: User persistence and minimal user entity</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Context</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>users should persist users in a database.</p>
</li>
<li>
<p>We likely need credentials, not only usernames.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Decision</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>users will persist user accounts.</p>
</li>
<li>
<p>Minimal entity includes credentials (exact schema TBD, e.g., username + password hash + id).</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Consequences</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Requires choosing DB technology and defining credential storage rules (hashing, etc.).</p>
</li>
<li>
<p>Enables real authentication flows.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Status: PROPOSED
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_adr_011_public_entrypoint_and_routing">9.11. ADR-011: Public entrypoint and routing</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Context</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>We want a single public entry point.</p>
</li>
<li>
<p>Frontend must be served from the root path.</p>
</li>
<li>
<p>Backend API must be versioned under a stable prefix.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Decision</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Public routes:</p>
</li>
<li>
<p>/ &#8594; frontend (static assets / SPA)</p>
</li>
<li>
<p>/api/v1/&#8230;&#8203; &#8594; webapp-backend (BFF API)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Consequences</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Clear separation between UI and API.</p>
</li>
<li>
<p>Enables a reverse proxy setup with path-based routing.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Status: PROPOSED
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_adr_012_reverse_proxy_for_path_based_routing_nginx">9.12. ADR-012: Reverse proxy for path-based routing (Nginx)</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Context</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>We need to route / to the frontend and /api/v1/&#8230;&#8203; to the BFF behind a single port.</p>
</li>
<li>
<p>An API gateway is considered overkill for this project.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Decision</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Use an Nginx reverse proxy for path-based routing.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Consequences</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>One public port with simple routing rules (e.g., <code>location</code> + <code>proxy_pass</code>). [web:187]</p>
</li>
<li>
<p>Adds an extra component to configure and maintain (but still lightweight).</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Status: PROPOSED
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-quality-scenarios">10. Quality Requirements</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>This section contains all quality requirements as quality tree with scenarios. The most important ones have already been described in section 1.2. (quality goals)</p>
</div>
<div class="paragraph">
<p>Here you can also capture quality requirements with lesser priority,
which will not create high risks when they are not fully achieved.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Since quality requirements will have a lot of influence on architectural
decisions you should know for every stakeholder what is really important to them,
concrete and measurable.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-10/">Quality Requirements</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quality_tree">10.1. Quality Tree</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>The quality tree (as defined in ATAM  Architecture Tradeoff Analysis Method) with quality/evaluation scenarios as leafs.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>The tree structure with priorities provides an overview for a sometimes large number of quality requirements.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>The quality tree is a high-level overview of the quality goals and requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>tree-like refinement of the term "quality". Use "quality" or "usefulness" as a root</p>
</li>
<li>
<p>a mind map with quality categories as main branches</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In any case the tree should include links to the scenarios of the following section.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quality_scenarios">10.2. Quality Scenarios</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Concretization of (sometimes vague or implicit) quality requirements using (quality) scenarios.</p>
</div>
<div class="paragraph">
<p>These scenarios describe what should happen when a stimulus arrives at the system.</p>
</div>
<div class="paragraph">
<p>For architects, two kinds of scenarios are important:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Usage scenarios (also called application scenarios or use case scenarios) describe the systems runtime reaction to a certain stimulus. This also includes scenarios that describe the systems efficiency or performance. Example: The system reacts to a users request within one second.</p>
</li>
<li>
<p>Change scenarios describe a modification of the system or of its immediate environment. Example: Additional functionality is implemented or requirements for a quality attribute change.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Scenarios make quality requirements concrete and allow to
more easily measure or decide whether they are fulfilled.</p>
</div>
<div class="paragraph">
<p>Especially when you want to assess your architecture using methods like
ATAM you need to describe your quality goals (from section 1.2)
more precisely down to a level of scenarios that can be discussed and evaluated.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Tabular or free form text.</p>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-technical-risks">11. Risks and Technical Debts</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>A list of identified technical risks or technical debts, ordered by priority</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Risk management is project management for grown-ups (Tim Lister, Atlantic Systems Guild.)</p>
</div>
<div class="paragraph">
<p>This should be your motto for systematic detection and evaluation of risks and technical debts in the architecture, which will be needed by management stakeholders (e.g. project managers, product owners) as part of the overall risk analysis and measurement planning.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>List of risks and/or technical debts, probably including suggested measures to minimize, mitigate or avoid risks or reduce technical debts.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-11/">Risks and Technical Debt</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-glossary">12. Glossary</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>The most important domain and technical terms that your stakeholders use when discussing the system.</p>
</div>
<div class="paragraph">
<p>You can also see the glossary as source for translations if you work in multi-language teams.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>You should clearly define your terms, so that all stakeholders</p>
</div>
<div class="ulist">
<ul>
<li>
<p>have an identical understanding of these terms</p>
</li>
<li>
<p>do not use synonyms and homonyms</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>A table with columns &lt;Term&gt; and &lt;Definition&gt;.</p>
</div>
<div class="paragraph">
<p>Potentially more columns in case you need translations.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-12/">Glossary</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Term</th>
<th class="tableblock halign-left valign-top">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Term-1&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;definition-1&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Term-2&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;definition-2&gt;</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 8.2 EN<br>
Last updated 2026-02-10 11:43:27 UTC
</div>
</div>
</body>
</html>