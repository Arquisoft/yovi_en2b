ifndef::imagesdir[:imagesdir: ../images]

[[section-deployment-view]]
== Deployment View

The deployment view describes the physical environment in which the YOVI system is executed and the automation processes that manage its lifecycle.

=== 7.1 Infrastructure Level 1: Cloud Environment
The system is deployed on the Microsoft Azure cloud platform, utilizing the "Azure for Students" subscription.

* **Location:** France Central.
* **Operating System:** Linux Ubuntu.
* **Hardware Profile:** Standard B2ats v2 (2 vCPUs, 1 GiB memory).

image::../images/infrastructure_deployment.svg[Infrastructure Mapping, width=800, align="center"]

=== 7.2 Infrastructure Level 2: Execution Environment (Docker)
The system follows a "Cattle" not "Pets" approach, using containerization to ensure consistency between development and production.

[cols="1,1,2"]
|===
| Container | Technology | Responsibility
| **Web Application** | TypeScript / Node.js | Handles the UI, User sessions, and API requests.
| **Game Engine** | Rust | Performs game logic validation and strategy suggestions.
| **Database** | [TODO: Technology] | Persistent storage for users and match history.
| **Monitoring** | Prometheus / Grafana | Observability of system health (Ports 9090/9091).
|===

=== 7.3 Network and Connectivity
The Virtual Machine is configured with a Public IP and specific inbound port rules as required by the project specifications:

* **Port 80/443:** Public access to the Web Application.
* **Port 3000/4000:** Internal service communication.
* **Port 22:** Restricted SSH access for automated deployment.
* **Ports 9090/9091:** Monitoring and metrics data.

=== 7.4 Deployment Pipeline (CI/CD)
The system utilizes GitHub Actions for Continuous Deployment (CD). The process is triggered automatically when a new release is created or a version tag is pushed.

image::../images/deployment_pipeline.svg[CI/CD Pipeline, width=800, align="center"]

1. **Automation:** Configuration is stored as YAML files in `.github/workflows`.
2. **Artifact Management:** Docker images are built and stored in the GitHub Container Registry (GHCR).
3. **Secrets Management:** Sensitive data (IP addresses, SSH keys, DB passwords) are stored as GitHub Actions Secrets and injected into the environment at runtime.
